(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{9240:function(e,t,r){Promise.resolve().then(r.bind(r,4218))},8792:function(e,t,r){"use strict";r.d(t,{default:function(){return l.a}});var s=r(5250),l=r.n(s)},4218:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var s=r(7437),l=r(2265),a=r(8792),n=r(7907),u=r(1126);function i(){let[e,t]=(0,l.useState)(""),r=(0,n.useRouter)(),{data:i,status:o}=(0,u.useSession)();(0,l.useEffect)(()=>{"authenticated"===o&&r.replace("/")},[o,r]);let c=e=>/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e),d=async e=>{e.preventDefault();let s=e.target[0].value,l=e.target[1].value,a=e.target[2].value,n=e.target[3].value;if(!c(a)){t("Email is invalid");return}if(!n||n.length<8){t("Password is invalid");return}try{let e=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:s,lastName:l,email:a,password:n})});400===e.status&&t("This email is already registered"),200===e.status&&(t(""),r.push("/login"))}catch(e){t("Error, try again"),console.log(e)}};return"loading"===o?(0,s.jsx)("h1",{children:"Loading..."}):"authenticated"!==o&&(0,s.jsx)("div",{className:"flex flex-col h-screen w-full justify-center items-center",children:(0,s.jsxs)("div",{className:"bg-blue-200 p-6 space-y-4",children:[(0,s.jsx)("div",{className:"my-2 text-center font-semibold text-xl",children:"Register"}),(0,s.jsxs)("form",{onSubmit:d,className:"flex flex-col gap-3",children:[(0,s.jsx)("input",{type:"text",className:"w-full border border-gray-300 text-black rounded px-3 py-2 mb-4 focus:outline-none focus:border-blue-400 focus:text-black",placeholder:"firstName",required:!0}),(0,s.jsx)("input",{type:"text",className:"w-full border border-gray-300 text-black rounded px-3 py-2 mb-4 focus:outline-none focus:border-blue-400 focus:text-black",placeholder:"lastName",required:!0}),(0,s.jsx)("input",{type:"text",className:"w-full border border-gray-300 text-black rounded px-3 py-2 mb-4 focus:outline-none focus:border-blue-400 focus:text-black",placeholder:"Email",required:!0}),(0,s.jsx)("input",{type:"password",className:"w-full border border-gray-300 text-black rounded px-3 py-2 mb-4 focus:outline-none focus:border-blue-400 focus:text-black",placeholder:"Password",required:!0}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:[" ","Register"]}),(0,s.jsx)("p",{className:"text-red-600 text-[16px] mb-4",children:e&&e}),(0,s.jsxs)(a.default,{className:"text-sm mt-3 text-right",href:"/login",children:["Already have an account? ",(0,s.jsx)("span",{className:"underline",children:"Login"})]})]})]})]})})}}},function(e){e.O(0,[250,267,971,69,744],function(){return e(e.s=9240)}),_N_E=e.O()}]);